





<div class="sheet-character">
    <div class="sheet-row-flex">
        <div class="sheet-main">
            <div class="sheet-row-flex">
                

    <div class="sheet-bubble ">
        <div class="sheet-title">
            
                Health
            
        </div>

        <div class="sheet-content content-max">
            
                    
    <div class="sheet-max">
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_health" value="30"/>
        </div>
        <div class="sheet-divider">/</div>
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_health_max" value="30"/>
        </div>
    </div>

                
        </div>
    </div>

                

    <div class="sheet-bubble ">
        <div class="sheet-title">
            
                Stamina
            
        </div>

        <div class="sheet-content content-max">
            
                    
    <div class="sheet-max">
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_stamina" value="10"/>
        </div>
        <div class="sheet-divider">/</div>
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_stamina_max" value="10"/>
        </div>
    </div>

                
        </div>
    </div>

                

    <div class="sheet-bubble ">
        <div class="sheet-title">
            
                AP
            
        </div>

        <div class="sheet-content content-max">
            
                    
    <div class="sheet-max">
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_ap" value="4"/>
        </div>
        <div class="sheet-divider">/</div>
        <div>
            <input type="text" class="sheet-number sheet-shy" name="attr_ap_max" value="4"/>
        </div>
    </div>

                
        </div>
    </div>

                

    <div class="sheet-bubble flex-60">
        <div class="sheet-title">
            
                Notes
            
        </div>

        <div class="sheet-content content-textarea">
            
                    
    <textarea class="sheet-small sheet-vertical" name="attr_notes"></textarea>


                
        </div>
    </div>

            </div>
            

    <div class="sheet-bubble extra-bottom">
        <div class="sheet-title">
            
                Ability
            
        </div>

        <div class="sheet-content content-toggleselect">
            
                    
    <div class="sheet-row-flex select-switch">
        <div class="select-switch-dropdown">

            <select name="attr_ability">
                
                     <option value="selectability"> Select an Ability </option>
                
                     <option value="brawler"> Brawler </option>
                
                     <option value="builder"> Builder </option>
                
                     <option value="cheerleader"> Cheerleader </option>
                
                    
                
                     <option value="Speedster"> Speedster </option>
                
                     <option value="prepared"> Doomsday Prep </option>
                
                     <option value="scavenger"> Scavenger </option>
                
                     <option value="sniper"> Sniper </option>
                
            </select>
        </div>

        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-1" name="attr_ability" value="selectability" checked />

                <div class="select-switch-display select-switch-display-1 ability-abc">
                    <div class="ability-text select-switch-content-1">
                        
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-2" name="attr_ability" value="brawler"  />

                <div class="select-switch-display select-switch-display-2 ability-brawler">
                    <div class="ability-text select-switch-content-2">
                        Any excess guard is dealt as damage.
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-3" name="attr_ability" value="builder"  />

                <div class="select-switch-display select-switch-display-3 ability-builder">
                    <div class="ability-text select-switch-content-3">
                        Create a distraction device by spending 1 AP and 1 Item. The device will attract common zombies towards it for some time.
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-4" name="attr_ability" value="cheerleader"  />

                <div class="select-switch-display select-switch-display-4 ability-cheerleader">
                    <div class="ability-text select-switch-content-4">
                        Reduce difficulty of roll for adjacent allies by 1 level.
                    </div>
                </div>
            
        
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-6" name="attr_ability" value="Speedster"  />

                <div class="select-switch-display select-switch-display-6 ability-parkour">
                    <div class="ability-text select-switch-content-6">
                        You can move 3 spaces at no cost on your turn.
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-7" name="attr_ability" value="prepared"  />

                <div class="select-switch-display select-switch-display-7 ability-prepared">
                    <div class="ability-text select-switch-content-7">
                        Start the game with 5 free scavenge actions and 2 additional equipment slots.
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-8" name="attr_ability" value="scavenger"  />

                <div class="select-switch-display select-switch-display-8 ability-scavenger">
                    <div class="ability-text select-switch-content-8">
                        Draw 1 additional cards when you scavenge. If you are scavenging a location alone, draw 3.
                    </div>
                </div>
            
        
             
                <input type="checkbox" class="sheet-hidden ability-control select-switch-control select-switch-control-9" name="attr_ability" value="sniper"  />

                <div class="select-switch-display select-switch-display-9 ability-sniper">
                    <div class="ability-text select-switch-content-9">
                        If you don't attack this turn, you can make a free attack roll and add that to next turn's ranged attack.
                    </div>
                </div>
            
        
    </div>

                
        </div>
    </div>

            <div class="sheet-equipment-slots">
                

    <div class="slot-section slot-toggled slot-section-equipment">
        <div class="sheet-row-flex sheet-label-row">
            <div class="sheet-label">Equipment</div>
            <div class="sheet-sublabel">
                Slots:
                <input type="text" class="sheet-number sheet-shy" name="attr_equipmentslots" value="2"/>
            </div>
        
        </div>

        
        <div class="slots-list">
            
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-1" name="attr_equipmentslots" value="1" checked/>
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-2" name="attr_equipmentslots" value="2" checked/>
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-3" name="attr_equipmentslots" value="3" />
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-4" name="attr_equipmentslots" value="4" />
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-5" name="attr_equipmentslots" value="5" />
             
                <input type="checkbox" class="sheet-hidden slot-toggle slot-toggle-6" name="attr_equipmentslots" value="6" />
            

            
             
                <div class="slot slot-1">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_1"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_1">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_1" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_1" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_1" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_1" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_1" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_1" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_1" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_1" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_1" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_1" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_1" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_1" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_1">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_1" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_1" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_1"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_1 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_1">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
             
                <div class="slot slot-2">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_2"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_2">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_2" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_2" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_2" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_2" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_2" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_2" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_2" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_2" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_2" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_2" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_2" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_2" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_2">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_2" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_2" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_2"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_2 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_2">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
             
                <div class="slot slot-3">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_3"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_3">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_3" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_3" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_3" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_3" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_3" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_3" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_3" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_3" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_3" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_3" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_3" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_3" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_3">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_3" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_3" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_3"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_3 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_3">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
             
                <div class="slot slot-4">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_4"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_4">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_4" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_4" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_4" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_4" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_4" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_4" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_4" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_4" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_4" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_4" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_4" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_4" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_4">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_4" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_4" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_4"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_4 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_4">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
             
                <div class="slot slot-5">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_5"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_5">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_5" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_5" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_5" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_5" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_5" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_5" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_5" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_5" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_5" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_5" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_5" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_5" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_5">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_5" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_5" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_5"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_5 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_5">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
             
                <div class="slot slot-6">
                    <div class="slot-content-wrapper">
                        
                        <input type="checkbox" class="slot-control sheet-hidden" name="attr_equipment_6"/>
                        
                        <div class="slot-content">
                            

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_equipment_type_6">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_equipment_type_6" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_equipment_type_6" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_equipment_type_6" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_equipment_type_6" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_equipment_type_6" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_equipment_type_6" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_equipment_type_6" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_equipment_type_6" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_equipment_type_6" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_equipment_name_6" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_equipment_damage_6" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_equipment_accuracy_6" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_equipment_ammotype_6">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_6" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_equipment_uses_max_6" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_equipment_description_6"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipment_unequipitem_6 type-field type_equipment "><button type="action" name="act_equipment_unequipitem_6">Unequip</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                        </div>
                    </div>
                </div>
            
        </div>
    </div>


            </div>
        </div>
        <div class="sheet-sidebar">
            

    <div class="sheet-bubble extra-bottom">
        <div class="sheet-title">
            
                Ammo
            
        </div>

        <div class="sheet-content content-list">
            
                    
    <div class="sheet-list">
        
            <div class="sheet-line">
                <div class="sheet-label">Arrows</div>
                <input type="text" class="sheet-number" name="attr_ammo_arrow" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Bolts</div>
                <input type="text" class="sheet-number" name="attr_ammo_bolt" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Heavy</div>
                <input type="text" class="sheet-number" name="attr_ammo_heavy" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Light</div>
                <input type="text" class="sheet-number" name="attr_ammo_light" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Medium</div>
                <input type="text" class="sheet-number" name="attr_ammo_medium" value="0"/>
            </div>
        
    </div>

                
        </div>
    </div>

            

    <div class="sheet-bubble extra-bottom">
        <div class="sheet-title">
            
                Combat Skills
            
        </div>

        <div class="sheet-content content-list">
            
                    
    <div class="sheet-list">
        
            <div class="sheet-line">
                <div class="sheet-label">Blunt Melee</div>
                <input type="text" class="sheet-number" name="attr_blunt_melee_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Firearm</div>
                <input type="text" class="sheet-number" name="attr_firearm_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Guard</div>
                <input type="text" class="sheet-number" name="attr_guard_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Projectile</div>
                <input type="text" class="sheet-number" name="attr_projectile_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Sharp Melee</div>
                <input type="text" class="sheet-number" name="attr_sharp_melee_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Throw</div>
                <input type="text" class="sheet-number" name="attr_throw_skill" value="3"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Unarmed</div>
                <input type="text" class="sheet-number" name="attr_unarmed_melee_skill" value="3"/>
            </div>
        
    </div>

                
        </div>
    </div>

            

    <div class="sheet-bubble extra-bottom">
        <div class="sheet-title">
            
                Skills
            
        </div>

        <div class="sheet-content content-list">
            
                    
    <div class="sheet-list">
        
            <div class="sheet-line">
                <div class="sheet-label">Athletics</div>
                <input type="text" class="sheet-number" name="attr_athletics_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Construction</div>
                <input type="text" class="sheet-number" name="attr_construction_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">First Aid</div>
                <input type="text" class="sheet-number" name="attr_firstaid_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Hacking</div>
                <input type="text" class="sheet-number" name="attr_hacking_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Lockpick</div>
                <input type="text" class="sheet-number" name="attr_lockpick_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Scout</div>
                <input type="text" class="sheet-number" name="attr_scout_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Socialize</div>
                <input type="text" class="sheet-number" name="attr_social_skill" value="0"/>
            </div>
        
            <div class="sheet-line">
                <div class="sheet-label">Stealth</div>
                <input type="text" class="sheet-number" name="attr_stealth_skill" value="0"/>
            </div>
        
    </div>

                
        </div>
    </div>

        </div>
    </div>

        <div class="sheet-inventory">
        <div class="slot-section">
            <div class="sheet-row-flex sheet-label-row">
                <div class="sheet-label">Inventory</div>
                <div class="sheet-sublabel">
                    Slots:
                    <input type="text" class="sheet-number sheet-shy" name="attr_inventory" value="5"/>
                </div>
            </div>
            <fieldset class="repeating_inventory">
                <div class="slot">
                    <div class="slot-content-wrapper">
                        

    
    

    <div class="sheet-card">
        
        <div class="sheet-card-type">
            <div class="card-field-input">
                <select class="sheet-shy" name="attr_type">
                    
                        
                            <option value="misc">Misc</option>
                        
                    
                        
                            <option value="armor_item">Armor</option>
                        
                    
                        
                            <option value="blunt_melee_weapon">Blunt Melee Weapon</option>
                        
                    
                        
                            <option value="consumable_item">Consumable</option>
                        
                    
                        
                    
                        
                            <option value="firearms_weapon">Firearm</option>
                        
                    
                        
                            <option value="projectile_weapon">Projectile Weapon</option>
                        
                    
                        
                            <option value="sharp_melee_weapon">Sharp Melee Weapon</option>
                        
                    
                        
                            <option value="throwing_weapon">Throwing Weapon</option>
                        
                    
                </select>            
            </div>
        </div>

        
        
            <input type="checkbox" class="sheet-hidden type-toggle-misc" name="attr_type" value="misc"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-blunt_melee_weapon" name="attr_type" value="blunt_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-sharp_melee_weapon" name="attr_type" value="sharp_melee_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-firearms_weapon" name="attr_type" value="firearms_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-projectile_weapon" name="attr_type" value="projectile_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-throwing_weapon" name="attr_type" value="throwing_weapon"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-consumable_item" name="attr_type" value="consumable_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-armor_item" name="attr_type" value="armor_item"/>
        
            <input type="checkbox" class="sheet-hidden type-toggle-" name="attr_type" value=""/>
        

        
        <div class="card-name">
            <div class="card-field-input">
                <input type="text" name="attr_name" placeholder="Item Name">
            </div>
        </div>

        <div class="type-fields"><div class="weapon-fields">
                <div class="sheet-row-flex align-start wrap">
                    
                    <div class="card-damage card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        <div class="card-field-label type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">Damage</div>
                        <div class="card-field-label type-field type_armor_item">Block</div>
                        <div class="card-field-input">
                            <input class="sheet-shy " type="number" name="attr_damage" value="2" />
                        </div>
                    </div>
                    
                    
                    <div class="card-accuracy card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon">
                        <div class="card-field-label">
                            Accuracy Mod
                        </div>
                        <div class="card-field-input">
                            <input type="number" class=" sheet-shy" name="attr_accuracy" value="3"/>
                        </div>
                    </div>
                    <name="@{}">


                    
                    <div class="card-uses card-block type-field type_firearms_weapon type_blunt_melee_weapon type_sharp_melee_weapon type_projectile_weapon type_throwing_weapon type_armor_item">
                        
                        <div class="card-field-label type-field type_firearms_weapon type_projectile_weapon type_throwing_weapon">
                            Ammo
                            (<select class="sheet-shy inline sheet-input" name="attr_ammotype">
                                <optgroup>
                                
                                    <option value="ammo_light"  selected="selected" >Light</option>
                                
                                    <option value="ammo_medium" >Medium</option>
                                
                                    <option value="ammo_heavy" >Heavy</option>
                                
                                    <option value="ammo_bolt" >Bolts</option>
                                
                                    <option value="ammo_arrow" >Arrows</option>
                                
                                </optgroup>
                            </select>)
                        </div>
                        

                        <div class="card-field-label type-field type_blunt_melee_weapon type_sharp_melee_weapon type_armor_item">Durability</div>
                        <div class="card-field-input sheet-max">
                            <div>
                                <input type="number" class="sheet-shy" name="attr_uses" value="0"/>
                            </div>
                            <div class="sheet-divider">/</div>
                            <div>
                                <input type="number" class="sheet-shy" name="attr_uses_max" value="0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-notes">
            <textarea class="sheet-shy" name="attr_description"></textarea>
        </div>
        
        <div class="card-actions">
            

            
            
                <div class="card-action action-equipitem type-field type_inventory "><button type="action" name="act_equipitem">Equip</button></div>
                <div class="card-action action-exportitem type-field type_inventory"><button type="roll" name="roll_exportitem" value="Export Item:<br/>  !!pickup  name=&#39;@{name}&#39;  type=&#39;@{type}&#39;  damage=&#39;@{damage}&#39;  uses=&#39;@{uses}&#39;  accuracy=&#39;@{accuracy}&#39;  ammotype=&#39;@{ammotype}&#39;  description=&#39;@{description}&#39;  flavor=&#39;@{flavor}&#39; " >Export</button></div>
                <div class="card-action action-deleteitem type-field type_inventory "><button type="action" name="act_deleteitem">Delete</button></div>
            



            <button type="roll" class="" value="!!aproll pool=@{stamina} cost=0  title='Test Roll' action='No cost roll!' target='@{firearm_skill}' multiply='5:Damage'">No Cost Attack</button>
            <button type="roll" class="" value="!!aproll pool='@{stamina}' cost=1 resource='ap:AP|stamina:Stamina' target='@{firearm_skill}' multiply='5:Damage' title='Test Roll' action='Imma rolling with cost!' characterid='@{character_id}'">Cost Attack</button>
        </div>

    </div>

                    </div>
                </div>
            </fieldset>
        </div>
    </div> 
    <div class="sheet-bottom">
        <div class="sheet-ap-pool">
        
        </div>
    </div>
</div>



<rolltemplate class="sheet-rolltemplate-zroll">
    <div class="sheet-template-container" style="border: solid 2px black; padding: 5px">
        <div class="sheet-zroll-header" style="color: white; background-color: purple; padding: 5px; font-weight: 900; border: solid 3px black">
            {{name}}
        </div>
        <div class="zroll-row" style="font-size: 10px; font-style: italics; padding: 5px 10px;">
            {{description}}
        </div>
        <div class="sheet-zroll-row" style="border: solid 1px black;">
            <div class="sheet-zroll-result" style="display:inline-block; width: 30%; padding: 8%; box-sizing: border-box; border-right: solid 1px black; margin: 5px 0;">
                <strong style="display: block; text-align: center; margin-bottom: 10px;">{{successlabel}}</strong>
                <div style="font-size: 24px; font-weight: 900; text-align: center; margin-bottom: 20px;">{{success}}</div>

                <div class="sheet-zroll-rolls" style="text-align: center;">
                    {{successrolls}}
                </div>
            </div>
            <div class="sheet-zroll-result" style="display:inline-block; width: 30%; padding: 8%; box-sizing: border-box; margin: 5px 0;">
                <strong style="display: block; text-align: center; margin-bottom: 10px;">{{guardlabel}}</strong>
                <div style="font-size: 24px; font-weight: 900; text-align: center; margin-bottom: 20px;">{{guard}}</div>

                <div class="sheet-zroll-rolls" style="text-align: center;">
                    {{guardrolls}}
                </div>
            </div>
        </div>
    </div>
</rolltemplate>


<script type="text/worker">
    /** inject:workers **/
    (function () {
    'use strict';

    var abc = {
    	id: "selectability",
    	label: "Select an Ability",
    	description: ""
    };
    var parkour = {
    	id: "Speedster",
    	description: "You can move 3 spaces at no cost on your turn."
    };
    var brawler = {
    	id: "brawler",
    	description: "Any excess guard is dealt as damage."
    };
    var cheerleader = {
    	id: "cheerleader",
    	description: "Reduce difficulty of roll for adjacent allies by 1 level."
    };
    var builder = {
    	id: "builder",
    	description: "Create a distraction device by spending 1 AP and 1 Item. The device will attract common zombies towards it for some time."
    };
    var scavenger = {
    	id: "scavenger",
    	description: "Draw 1 additional cards when you scavenge. If you are scavenging a location alone, draw 3."
    };
    var sniper = {
    	id: "sniper",
    	description: "If you don't attack this turn, you can make a free attack roll and add that to next turn's ranged attack."
    };
    var prepared = {
    	id: "prepared",
    	label: "Doomsday Prep",
    	description: "Start the game with 5 free scavenge actions and 2 additional equipment slots."
    };
    var abilities = {
    	abc: abc,
    	parkour: parkour,
    	brawler: brawler,
    	cheerleader: cheerleader,
    	builder: builder,
    	scavenger: scavenger,
    	sniper: sniper,
    	prepared: prepared
    };

    var abilities$1 = /*#__PURE__*/Object.freeze({
        __proto__: null,
        abc: abc,
        parkour: parkour,
        brawler: brawler,
        cheerleader: cheerleader,
        builder: builder,
        scavenger: scavenger,
        sniper: sniper,
        prepared: prepared,
        'default': abilities
    });

    const fields$1 = {
        notes: {
            id: "notes",
            type: "textarea"
        },
        ammo: {
            id: "ammo",
            type: "list",
            default: 0,
            options: {
                light: {
                    id: "ammo_light",
                    bundle: 30,
                    label: "Light"
                },
                medium: {
                    id: "ammo_medium",
                    bundle: 30,
                    label: "Medium"
                },
                heavy: {
                    id: "ammo_heavy",
                    bundle: 30,
                    label: "Heavy"
                },
                bolt: {
                    id: "ammo_bolt",
                    bundle: 5,
                    label: "Bolts"
                },
                arrow: {
                    id: "ammo_arrow",
                    bundle: 5,
                    label: "Arrows"
                }
            }
        },
        stats: {
            health: {
                id: "health",
                default: 30,
                type: "max",
                label: "Health"
            },
            stamina: {
                id: "stamina",
                default: 10,
                type: "max",
                label: "Stamina"
            },
            ap: {
                id: "ap",
                default: 4,
                type: "max",
                label: "AP"
            },
        },
        combatskills: {
            id: "combatskills",
            type: "list",
            label: "Combat Skills",
            default: 3,
            options: {
                guard: {
                    id: "guard_skill",
                    label: "Guard"
                },
                throw: {
                    id: "throw_skill",
                    label: "Throw"
                },
                blunt: {
                    id: "blunt_melee_skill",
                    label: "Blunt Melee"
                },
                firearm: {
                    id: "firearm_skill",
                    label: "Firearm"
                },
                sharp: {
                    id: "sharp_melee_skill",
                    label: "Sharp Melee"
                },
                unarmed: {
                    id: "unarmed_melee_skill",
                    label: "Unarmed"
                },
                projectile: {
                    id: "projectile_skill",
                    label: "Projectile"
                }
            }
        },
        skills: {
            id: "skills",
            type: "list",
            label: "Skills",
            default: 0,
            options: {
                lockpick: {
                    id: "lockpick_skill",
                    label: "Lockpick"
                },
                scout: {
                    id: "scout_skill",
                    label: "Scout"
                },
                stealth: {
                    id: "stealth_skill",
                    label: "Stealth"
                },
                social: {
                    id: "social_skill",
                    label: "Socialize"
                },
                firstaid: {
                    id: "firstaid_skill",
                    label: "First Aid"
                },
                construction: {
                    id: "construction_skill",
                    label: "Construction"
                },
                hacking: {
                    id: "hacking_skill",
                    label: "Hacking"
                },
                athletics: {
                    id: "athletics_skill",
                    label: "Athletics"
                }
            }
        },
        ability: {
            id: "ability",
            type: "toggleselect",
            options: abilities$1
        },
        equipmentslots: {
            id: "equipmentslots",
            default: 2,
            max: 6,
            type: "equipment",
            label: "Equipment"
        },
        inventory: {
            id: "inventory",
            default: 5,
            max: 12,
            label: "Inventory"
        }
    };

    var aaany = {
    	id: "misc",
    	label: "Misc"
    };
    var blunt = {
    	id: "blunt_melee_weapon",
    	label: "Blunt Melee Weapon"
    };
    var sharp = {
    	id: "sharp_melee_weapon",
    	label: "Sharp Melee Weapon"
    };
    var firearm = {
    	id: "firearms_weapon",
    	label: "Firearm"
    };
    var projectile = {
    	id: "projectile_weapon",
    	label: "Projectile Weapon"
    };
    var throwing = {
    	id: "throwing_weapon",
    	label: "Throwing Weapon"
    };
    var consumable = {
    	id: "consumable_item",
    	label: "Consumable"
    };
    var armor = {
    	id: "armor_item",
    	label: "Armor"
    };
    var itemtypes = {
    	aaany: aaany,
    	blunt: blunt,
    	sharp: sharp,
    	firearm: firearm,
    	projectile: projectile,
    	throwing: throwing,
    	consumable: consumable,
    	armor: armor
    };

    var itemTypes = /*#__PURE__*/Object.freeze({
        __proto__: null,
        aaany: aaany,
        blunt: blunt,
        sharp: sharp,
        firearm: firearm,
        projectile: projectile,
        throwing: throwing,
        consumable: consumable,
        armor: armor,
        'default': itemtypes
    });

    const fields = {
        name: {
            id: 'name'
        },
        type: {
            id: 'type',
            label: 'Item Type',
            options: itemTypes
        },
        damage: {
            id: 'damage',
            default: 2
        },
        uses: {
            id: 'uses',
            max: 'uses_max', // easier to handle ids and indexflight from rochesbalti
            labels: {
                ranged: 'Ammo',
                other: 'Durability',
            }
        },
        attacks: {
            id:'accuracy',
            label: 'Accuracy Mod',
            min: 1,
            default: 3,
            max: 5
        },
        ammotype: {
            id: 'ammotype',
            label: 'Ammo Type',
        },
        description: {
            id: 'description'
        }, 
        flavor: {
            id: 'flavor'
        }
    };


    const options = {
        actions: {
            // export:'exportitem', 
            // delete:'deleteitem',
            // attack:'attackweapon',
            // reload: 'reloadweapon',

            attackblunt: {
                id:'attackblunt',
                class: [
                    blunt
                ],
                type: 'roll',
                label: 'Attack'
            },

            export: {
                id: 'exportitem',
                class: [
                    'inventory'
                ]
            },
            delete: {
                id:'deleteitem',
                class: [
                    'inventory'
                ]
            },
            equip: {
                id: 'equipitem',
                class: [
                    'inventory'
                ],
                type: 'action',
                label: 'Equip'
            },
            unequip: {
                id: 'unequipitem',
                class: [
                    'inventory'
                ],
                type: 'action',
                label: 'Unequip'
            }

        },
        itemtypes: itemTypes
    };

    const getButtonRowId = function(eventInfo){
        var underscoreIndex = eventInfo.sourceAttribute.lastIndexOf("_");
        return eventInfo.sourceAttribute.substr(0, underscoreIndex);
    };

    /**
     * Given a number, spread it out and list all numbers preceding it.
     */
     const sequenceNumber = (num, delim='', flip=false) => {
        var result = '';

        if (!Number.isInteger(num)){
            return '';
        }

        //descending order
        if (flip){
            for (let i = num; i >= 0; i--){
                result += i.toString();
        
                if (i > 0 && delim.length){
                    result += delim;
                }
            }
        } else {
            //ascneding order
            for (let i = 0; i <= num; i++){
                result += i.toString();
        
                if (i < num && delim.length){
                    result += delim;
                }
            }
        }

        return result;
    };

    function deleteItem(){
        on(`clicked:repeating_${fields$1.inventory.id}:${options.actions.delete.id}`, function(evInfo){
            const rowId = getButtonRowId(evInfo);
            removeRepeatingRow(rowId);
        });
    }

    /**
     * IDs
     * - equipmentslots (slotsId): stores the current number of slots.
     * - equipment_{x}: whether slot is active or not
     */

    function equip(itemCardFields = fields){
        //pull data into variables for easier interchangeability
        let itemFields = {...itemCardFields},
            slotsId = fields$1.equipmentslots.id,
            equipId = fields$1.equipmentslots.type,
            maxSlots = fields$1.equipmentslots.max,
            inventoryId = fields$1.inventory.id,
            equipPrefix = fields$1.equipmentslots.type,
            unequipAction = options.actions.unequip.id,
            equipAction = options.actions.equip.id;

        

        /**
         * Gets all available item slot IDs
         */
        const getSlotFields = function(){
            let result = [];

            // 1 - indexed
            for (let i = 1; i <= maxSlots; i++){
                result.push(equipId + '_' + i);
            }
            return result;
        };

        /**
         * Gets an array of all item field Ids.
         * 
         * @param {*} suffix - if present, adds it to the end of the field with preceeding underscore.
         * @returns array of Id strings.
         */
        const getItemFieldIds = function(suffix, prefix, fields=itemFields){
            let result = [];
            
            const affix = function(str){
                let result = str;

                if (suffix && suffix.toString().length){
                    result = result + '_' + suffix;
                }

                if (prefix && prefix.length){
                    result = prefix + '_' + result;
                }

                return result;
            };

            for (const key in fields){
                let fld = fields[key],
                    id = affix(fld.id);

                result.push(id);

                if ('max' in fld && fld.max.length){
                    result.push(affix(fld.max));
                }
            }

            return result;
        };

        /**
         * Generates a setAttrs object for an empty equipment object
         * 
         * @param {*} fields - in case you need custom fields for testing or something.
         */
        const generateBlankEquipmentObj = function(id, fields=itemFields){

            let result = {};
            
            for (const key in fields){
                const fld = fields[key],
                    newKey = equipPrefix + '_' + key + '_' + id;


                if ('default' in fld){
                    result[newKey] = fld.default;
                } else {
                    result[newKey] = '';

                    if ('max' in fld){
                        result[fld.max + '_' + id] = '';
                    }
                }
            }
            return result;
        };

        /**
         * Remaps the values of an object to a modified version of its original key
         * 
         * @param {obj} obj - object to remap keys with text affixed to it
         * @param {text} affix - text to add to front or back when transposing
         * @param {bool} pre - add to front of key when transposing. Set false to add to back.
         * @param {fn} keyfn - callback function to allow additional modifications on the key. Is passed the key and it should return a string.
         */
        const remapKeys = function(obj, affix, pre=true, keyfn){
            const result = {};

            for (const key in obj){
                let keyText = key;

                if (keyfn){
                    keyText = keyfn(keyText);
                }

                const newKey = (pre ? `${affix}${keyText}` : `${keyText}${affix}`);
                result[newKey] = obj[key];
            }

            return result;
        };

        /**
         * Find next available slot.
         * 
         * @param {*} values values retrieved from getAttrs. Should contain all equipmentslots.
         * @returns the Index number of the slot
         */
        const findNextAvailableSlotIndex = function(values){
            if (slotsId in values){
                //only check up to the character's currently number of slots
                let max = values[slotsId];
        
                //Find next open slot and return.
                for (let i = 1; i <= max; i++){
                    if (values[equipId + '_' + i] == 0){
                        return i;
                    }
                }
            }

            return null;
        };

        /**
         * Unequip a given slot.
         * 
         * @param {*} slotIndex - Which slot to unequip
         */
        const unequipItem = function(slotIndex){
            //Get array of fields
            let unequipFields = getItemFieldIds(slotIndex, equipPrefix);
            
            getAttrs(unequipFields, function(values){
                const rowId = generateRowID(); 

                //create new inv item to create
                const newInvItem = remapKeys(values,  `repeating_${inventoryId}_${rowId}_`, true, function(x){ 
                    let result = x.replace('equipment_', '');
                    let last = result.lastIndexOf(`_${slotIndex}`); //lastIndex so we make sure to only get the end
                    
                    if (last > 0){
                        return result.substring(0, last);
                    } else {
                        return result;
                    }
                });
                
                //clear equipment fields
                const emptyEquipment = generateBlankEquipmentObj(slotIndex);

                const attrSet = {
                    ...newInvItem,
                    ...emptyEquipment
                };

                //make the slot available again.
                attrSet[`${equipId}_${slotIndex}`] = 0;
                console.log(attrSet);
                setAttrs(attrSet);
            });
        };


        const equipItem = function(rowId){
            // Get fields for both equipment and inventory and the id for equipment slots
            const bothFields = getItemFieldIds('', `repeating_${inventoryId}`)
                    .concat(getSlotFields());
                bothFields.push(slotsId);

            getAttrs(bothFields, function(values){
                // find availble slot
                let availableSlotIndex = findNextAvailableSlotIndex(values);

                //Slot is available!
                if (availableSlotIndex){
                    
                    //only consider inventory fields for remapping
                    let inventoryFields = Object.keys(values)
                        .filter(x => x.includes(`repeating_${inventoryId}`))
                        .reduce((obj, key) => {
                            obj[key] = values[key];
                            return obj;
                        }, {});

                
                    
                    //filter add index, filter out repeating_inventory
                    let newEquipment = remapKeys(inventoryFields, `_${availableSlotIndex}`, false, (x) => { return x.replace(`repeating_${inventoryId}_`, `${equipPrefix}_`);});
                    
                    const attrSet = {
                        ...newEquipment
                    };

                    // set slot to active
                    attrSet[equipId + '_' + availableSlotIndex] = 'on';

                    removeRepeatingRow(rowId); //remove current row
                    console.log(attrSet);
                    setAttrs(attrSet);
                } else {
                    console.log('No slot found!');
                }
            });
        };

        const init = function(){
            // Hooks for buttons
            on(`clicked:repeating_${inventoryId}:${equipAction}`, function(evInfo){
                const rowId = getButtonRowId(evInfo);
                equipItem(rowId);
            });
        
            for (let i = 1; i <= maxSlots; i++){
                on(`clicked:${equipId}_${unequipAction}_${i}`, function(){
                    unequipItem(i);
                });
            }
        };

        return {
            init: init,
            getItemFieldIds: getItemFieldIds,
            generateBlankEquipmentObj: generateBlankEquipmentObj,
            remapKeys:  remapKeys,
            findNextAvailableSlotIndex: findNextAvailableSlotIndex,
            getSlotFields: getSlotFields
        }
    }

    function limit(){
        on(`change:repeating_${fields$1.inventory.id}`, function(evInfo){

            //So we don't interfere with unequip script
            if (evInfo.sourceType == 'sheetworker'){
                return;
            }


            getAttrs([fields$1.inventory.id], function(values){
                let slots = parseInt(values[fields$1.inventory.id], 10);

                if (isNaN(slots)){
                    console.error('Error when parsing slots');
                    return;
                }

                getSectionIDs(fields$1.inventory.id, function(arr){

                    if (arr.length > slots){
                        let lastRow = arr[arr.length - 1]; //only remove the latest one, so we don't interfere with unequip
                        removeRepeatingRow(`repeating_${fields$1.inventory.id}_` + lastRow);
                    }
                });
            });
        });
    }

    //If a Stat is rollable, set a _rolls field to be a sequence of numbers
    //ie if stat is 5, set _rolls field to be 1|2|3|4|5
    //That way, we can use dropdowns for roll buttons based on the stats value
    function rollOptions(){
        for (let stat in fields$1.stats){
            let curStat = fields$1.stats[stat];

            if (curStat.rollable){
                let attr = curStat.id;
        
                on( 'change:' + attr, function(){
                    getAttrs([attr], function(values){
                        let numOfDice = parseInt(values[attr], 10);

                        var attrSet = {
                            [attr + '_rolls'] : sequenceNumber(numOfDice, '|', true) //start at value
                        };

                        // Add bonus options
                        for (let i = 1; i <= numOfDice; i++){
                            attrSet[attr + '_rolls'] += `| ${numOfDice }( + ${i} bonus rolls ), ${numOfDice}b${i}`;
                        }

                        setAttrs(attrSet);
                    });
                });
            }
        }

    }

    equip().init();
    limit();
    rollOptions();
    deleteItem();

})();

    /** endinject **/
</script>



