<div class="sheet-character">
    <div class="sheet-header">
    <div class="sheet-area">
        
        <div class="sheet-row-flex">
            <div class="sheet-name sheet-bubble">    <label>Notes</label>
    <textarea class="sheet-small sheet-vertical" name="attr_notes"></textarea></div>
            <div class="sheet-stat-blocks sheet-bubble"><div class="sheet-stat-blocks">
    
        <div class="sheet-stat">
            <div class="sheet-stage">
                <label>Health</label>
                <div class="sheet-fields sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_health" value="30" step="1"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_health_max" value="30" step="1"/>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="sheet-stat">
            <div class="sheet-stage">
                <label>Energy</label>
                <div class="sheet-fields sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_energy" value="40" step="1"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_energy_max" value="40" step="1"/>
                    </div>
                </div>
            </div>
        </div>
    
</div></div>
        </div>

        
        <div class="sheet-row-flex">
            <div class="sheet-dodge sheet-bubble">    <label>Dodge</label>
    <div class="sheet-dice-input">
        <div>
            <input type="text" class="sheet-number sheet-shy sheet-amount" name="attr_dodge" value="2"/><span>d6</span>
            <div class="sheet-subtext">
                (roll costs 1 energy)
            </div>
        </div>
    </div></div>
            <div class="sheet-armor sheet-bubble">    <label>Armor</label>
    <div class="sheet-input">
        <input type="text" class="sheet-number sheet-shy sheet-amount" name="attr_armor" value="0"/>
    </div></div>
            <div class="sheet-ability sheet-bubble">    <label>Ability</label>
    <div class="sheet-row-flex">
        <div class="sheet-ability-select">
            <select name="attr_ability">
                
                    <option value=""></option>
                
                    <option value="cheerleader">Cheerleader</option>
                
                    <option value="brawler">Brawler</option>
                
                    <option value="builder">Builder</option>
                
                    <option value="doctor">Doctor</option>
                
                    <option value="gearhead">Gearhead</option>
                
                    <option value="martial">Martial Artist</option>
                
                    <option value="scavenger">Scavenger</option>
                
                    <option value="scout">Scout</option>
                
                    <option value="sniper">Sniper</option>
                
                    <option value="speedy">speedy</option>
                
                    <option value="sturdy">sturdy</option>
                
            </select>
        </div>

        <div class="sheet-ability-text sheet-toggle-adj">
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="" checked />
                <div class="sheet-description-text sheet-content">
                    
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="cheerleader"  />
                <div class="sheet-description-text sheet-content">
                    <strong>Action:</strong> Give all players within 5 spaces 1 bonus roll this turn.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="brawler"  />
                <div class="sheet-description-text sheet-content">
                    Add two free bonus dice to any melee attack.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="builder"  />
                <div class="sheet-description-text sheet-content">
                    Use a D10 on rolls when building barricades. Add 1 additional bonus dice.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="doctor"  />
                <div class="sheet-description-text sheet-content">
                    Use a D10 on rolls when restoring health.. Add 1 additional bonus dice
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="gearhead"  />
                <div class="sheet-description-text sheet-content">
                    Start the game with 1 additional weapon, equipment, and inventory slot.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="martial"  />
                <div class="sheet-description-text sheet-content">
                    Use a D10 on dodge rolls. Start the game with 2 additional dodge.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="scavenger"  />
                <div class="sheet-description-text sheet-content">
                    Draw 2 cards instead when you scavenge.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="scout"  />
                <div class="sheet-description-text sheet-content">
                    <strong>Action</strong> Determine amount of enemies on other side of door.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="sniper"  />
                <div class="sheet-description-text sheet-content">
                    Add two free bonus dice to any ranged attacks.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="speedy"  />
                <div class="sheet-description-text sheet-content">
                    Move additional 2 spaces during a move action.
                </div>
            
                <input type="checkbox" class="sheet-control" name="attr_ability" value="sturdy"  />
                <div class="sheet-description-text sheet-content">
                    Increase your starting health or your starting energy by 20.
                </div>
            
        </div>
    </div></div>
        </div>
    </div>

    
    <div class="sheet-bubble sheet-ammo-counter">    <div class="sheet-stage">
        <label>Ammo</label>
        <div class="sheet-ammos">
            
                <div class="sheet-line">
                    <div class="sheet-label">d4</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d4" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">d6</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d6" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">d8</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d8" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">d10</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d10" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">d12</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d12" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">d20</div>
                    <input type="text" class="sheet-number" name="attr_ammo_d20" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">Bolt</div>
                    <input type="text" class="sheet-number" name="attr_ammo_Bolt" value="0"/>
                </div>
            
                <div class="sheet-line">
                    <div class="sheet-label">Arrow</div>
                    <input type="text" class="sheet-number" name="attr_ammo_Arrow" value="0"/>
                </div>
            
        </div>
    </div></div>
</div> 

    
    


    
    <div class="sheet-weaponslots">
        

    <div class="sheet-slot-section sheet-slot-section-weapon">
        <div class="sheet-row-flex sheet-label-row">
            <label>Weapons</label>
            <div class="sheet-subtext">
                Slots:
                <input type="text" class="sheet-number sheet-shy" name="attr_weaponslots" value="1"/>
            </div>
        
        </div>

        
        <div class="sheet-wrap sheet-slot-toggle">
            
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-1" name="attr_weaponslots" value="1" checked/>
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-2" name="attr_weaponslots" value="2" />
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-3" name="attr_weaponslots" value="3" />
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-4" name="attr_weaponslots" value="4" />
            

            
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-1">
                    
                    <input type="checkbox" class="sheet-active" name="attr_weapon_1" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_weapon_itemtype_1" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_weapon_itemtype_1" value="weapon" checked/>
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_weapon_itemtype_1" value="equipment" />
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_weapon_itemtype_1">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon"  selected="selected" >Weapon</option>
                
                    <option value="equipment" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_weapon_weapontype_1">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_weapon_itemname_1" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_weapon_weapontype_1" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_weapon_weapontype_1" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_weapon_itemdamage_1" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_1" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_1_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_weapon_ammotype_1">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_weapon_description_1"></textarea>
            <input type="text" class="sheet-hidden" name="attr_weapon_flavor_1"/>
            <span readonly name="attr_weapon_flavor_1"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{weapon_itemdamage_1}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_weapon_reloadweapon_1" value="!!reload weapon=1">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_weapon_equipitem_1">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_weapon_unequipitem_1">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_weapon_deleteitem_1">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-2">
                    
                    <input type="checkbox" class="sheet-active" name="attr_weapon_2" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_weapon_itemtype_2" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_weapon_itemtype_2" value="weapon" checked/>
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_weapon_itemtype_2" value="equipment" />
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_weapon_itemtype_2">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon"  selected="selected" >Weapon</option>
                
                    <option value="equipment" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_weapon_weapontype_2">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_weapon_itemname_2" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_weapon_weapontype_2" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_weapon_weapontype_2" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_weapon_itemdamage_2" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_2" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_2_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_weapon_ammotype_2">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_weapon_description_2"></textarea>
            <input type="text" class="sheet-hidden" name="attr_weapon_flavor_2"/>
            <span readonly name="attr_weapon_flavor_2"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{weapon_itemdamage_2}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_weapon_reloadweapon_2" value="!!reload weapon=2">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_weapon_equipitem_2">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_weapon_unequipitem_2">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_weapon_deleteitem_2">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-3">
                    
                    <input type="checkbox" class="sheet-active" name="attr_weapon_3" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_weapon_itemtype_3" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_weapon_itemtype_3" value="weapon" checked/>
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_weapon_itemtype_3" value="equipment" />
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_weapon_itemtype_3">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon"  selected="selected" >Weapon</option>
                
                    <option value="equipment" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_weapon_weapontype_3">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_weapon_itemname_3" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_weapon_weapontype_3" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_weapon_weapontype_3" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_weapon_itemdamage_3" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_3" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_3_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_weapon_ammotype_3">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_weapon_description_3"></textarea>
            <input type="text" class="sheet-hidden" name="attr_weapon_flavor_3"/>
            <span readonly name="attr_weapon_flavor_3"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{weapon_itemdamage_3}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_weapon_reloadweapon_3" value="!!reload weapon=3">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_weapon_equipitem_3">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_weapon_unequipitem_3">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_weapon_deleteitem_3">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-4">
                    
                    <input type="checkbox" class="sheet-active" name="attr_weapon_4" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_weapon_itemtype_4" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_weapon_itemtype_4" value="weapon" checked/>
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_weapon_itemtype_4" value="equipment" />
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_weapon_itemtype_4">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon"  selected="selected" >Weapon</option>
                
                    <option value="equipment" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_weapon_weapontype_4">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_weapon_itemname_4" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_weapon_weapontype_4" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_weapon_weapontype_4" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_weapon_itemdamage_4" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_4" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_weapon_uses_4_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_weapon_ammotype_4">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_weapon_description_4"></textarea>
            <input type="text" class="sheet-hidden" name="attr_weapon_flavor_4"/>
            <span readonly name="attr_weapon_flavor_4"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{weapon_itemdamage_4}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_weapon_reloadweapon_4" value="!!reload weapon=4">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_weapon_equipitem_4">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_weapon_unequipitem_4">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_weapon_deleteitem_4">Delete</button>
        </div>
    </div>

                    </div>
                </div>
            
        </div>
    </div>





    </div>
    
    <div class="sheet-equipmentslots">
        

    <div class="sheet-slot-section sheet-slot-section-equipment">
        <div class="sheet-row-flex sheet-label-row">
            <label>Equipment</label>
            <div class="sheet-subtext">
                Slots:
                <input type="text" class="sheet-number sheet-shy" name="attr_equipmentslots" value="2"/>
            </div>
        
        </div>

        
        <div class="sheet-wrap sheet-slot-toggle">
            
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-1" name="attr_equipmentslots" value="1" checked/>
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-2" name="attr_equipmentslots" value="2" checked/>
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-3" name="attr_equipmentslots" value="3" />
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-4" name="attr_equipmentslots" value="4" />
             
                <input type="checkbox" class="sheet-hidden sheet-slot-toggle-5" name="attr_equipmentslots" value="5" />
            

            
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-1">
                    
                    <input type="checkbox" class="sheet-active" name="attr_equipment_1" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_equipment_itemtype_1" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_equipment_itemtype_1" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_equipment_itemtype_1" value="equipment" checked/>
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_equipment_itemtype_1">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment"  selected="selected" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_equipment_weapontype_1">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_equipment_itemname_1" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_equipment_weapontype_1" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_equipment_weapontype_1" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_equipment_itemdamage_1" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_1" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_1_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_equipment_ammotype_1">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_equipment_description_1"></textarea>
            <input type="text" class="sheet-hidden" name="attr_equipment_flavor_1"/>
            <span readonly name="attr_equipment_flavor_1"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{equipment_itemdamage_1}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_equipment_reloadweapon_1" value="!!reload weapon=1">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipment_equipitem_1">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_equipment_unequipitem_1">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_equipment_deleteitem_1">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-2">
                    
                    <input type="checkbox" class="sheet-active" name="attr_equipment_2" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_equipment_itemtype_2" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_equipment_itemtype_2" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_equipment_itemtype_2" value="equipment" checked/>
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_equipment_itemtype_2">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment"  selected="selected" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_equipment_weapontype_2">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_equipment_itemname_2" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_equipment_weapontype_2" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_equipment_weapontype_2" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_equipment_itemdamage_2" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_2" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_2_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_equipment_ammotype_2">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_equipment_description_2"></textarea>
            <input type="text" class="sheet-hidden" name="attr_equipment_flavor_2"/>
            <span readonly name="attr_equipment_flavor_2"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{equipment_itemdamage_2}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_equipment_reloadweapon_2" value="!!reload weapon=2">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipment_equipitem_2">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_equipment_unequipitem_2">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_equipment_deleteitem_2">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-3">
                    
                    <input type="checkbox" class="sheet-active" name="attr_equipment_3" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_equipment_itemtype_3" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_equipment_itemtype_3" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_equipment_itemtype_3" value="equipment" checked/>
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_equipment_itemtype_3">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment"  selected="selected" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_equipment_weapontype_3">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_equipment_itemname_3" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_equipment_weapontype_3" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_equipment_weapontype_3" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_equipment_itemdamage_3" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_3" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_3_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_equipment_ammotype_3">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_equipment_description_3"></textarea>
            <input type="text" class="sheet-hidden" name="attr_equipment_flavor_3"/>
            <span readonly name="attr_equipment_flavor_3"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{equipment_itemdamage_3}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_equipment_reloadweapon_3" value="!!reload weapon=3">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipment_equipitem_3">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_equipment_unequipitem_3">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_equipment_deleteitem_3">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-4">
                    
                    <input type="checkbox" class="sheet-active" name="attr_equipment_4" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_equipment_itemtype_4" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_equipment_itemtype_4" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_equipment_itemtype_4" value="equipment" checked/>
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_equipment_itemtype_4">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment"  selected="selected" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_equipment_weapontype_4">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_equipment_itemname_4" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_equipment_weapontype_4" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_equipment_weapontype_4" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_equipment_itemdamage_4" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_4" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_4_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_equipment_ammotype_4">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_equipment_description_4"></textarea>
            <input type="text" class="sheet-hidden" name="attr_equipment_flavor_4"/>
            <span readonly name="attr_equipment_flavor_4"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{equipment_itemdamage_4}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_equipment_reloadweapon_4" value="!!reload weapon=4">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipment_equipitem_4">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_equipment_unequipitem_4">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_equipment_deleteitem_4">Delete</button>
        </div>
    </div>

                    </div>
                </div>
             
                
                <div class="sheet-slot sheet-toggle sheet-slot-5">
                    
                    <input type="checkbox" class="sheet-active" name="attr_equipment_5" class="sheet-hidden sheet-toggle sheet-control" />
                    <div class="sheet-empty-text">Unused Slot</div>
                    <div class="sheet-content">
                        

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_equipment_itemtype_5" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_equipment_itemtype_5" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_equipment_itemtype_5" value="equipment" checked/>
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_equipment_itemtype_5">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment"  selected="selected" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_equipment_weapontype_5">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_equipment_itemname_5" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_equipment_weapontype_5" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_equipment_weapontype_5" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_equipment_itemdamage_5" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_5" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_equipment_uses_5_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_equipment_ammotype_5">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_equipment_description_5"></textarea>
            <input type="text" class="sheet-hidden" name="attr_equipment_flavor_5"/>
            <span readonly name="attr_equipment_flavor_5"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{equipment_itemdamage_5}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_equipment_reloadweapon_5" value="!!reload weapon=5">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipment_equipitem_5">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_equipment_unequipitem_5">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_equipment_deleteitem_5">Delete</button>
        </div>
    </div>

                    </div>
                </div>
            
        </div>
    </div>





    </div>
    

    
    <div class="sheet-inventory">
        <div class="sheet-slot-section">
            <div class="sheet-row-flex sheet-label-row">
                <label>Inventory</label>
                <div class="sheet-subtext">
                    Slots:
                    <input type="text" class="sheet-number sheet-shy" name="attr_inventoryslots" value="5"/>
                </div>
            </div>
            <fieldset class="repeating_inventory">
                <div class="sheet-slot">
                    

    <div class="sheet-card">
        
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-inventory" name="attr_itemtype" value="inventory" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-weapon" name="attr_itemtype" value="weapon" />
        
            <input type="checkbox" class="sheet-hidden sheet-toggle-equipment" name="attr_itemtype" value="equipment" />
        

        
        <div class="sheet-card-type">
            <select class="sheet-shy" name="attr_itemtype">
                
                    <option value="inventory" >Consumable </option>
                
                    <option value="weapon" >Weapon</option>
                
                    <option value="equipment" >Equipment</option>
                
            </select>            
            <select class="sheet-shy sheet-weapon-only" name="attr_weapontype">
                
                    <option value="melee"  selected="selected" >Melee</option>
                
                    <option value="ranged" >Ranged</option>
                
            </select>
        </div>

        
        <div class="sheet-card-name">
            <input type="text" name="attr_itemname" placeholder="Item Name">
        </div>

        
        <div class="sheet-card-weapon-fields">        
            
            
                <input type="checkbox" class="sheet-hidden sheet-show-melee" name="attr_weapontype" value="melee" checked/>
            
                <input type="checkbox" class="sheet-hidden sheet-show-ranged" name="attr_weapontype" value="ranged" />
            
            
            
            <div class="sheet-card-damage  sheet-card-line">
                <div class="sheet-label">Damage:</div>
                <input class="sheet-shy" type="text" name="attr_itemdamage" value="0" />
            </div>

            
            <div class="sheet-card-uses sheet-card-line">
                <div class="sheet-label sheet-ranged-label">Ammo:</div>
                <div class="sheet-label sheet-melee-label">Durability:</div>
                <div class="sheet-max">
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_uses" value="0"/>
                    </div>
                    <div class="sheet-divider">/</div>
                    <div>
                        <input type="text" class="sheet-number sheet-shy" name="attr_uses_max" value="0"/>
                    </div>
                </div>
            </div>

            
            <div class="sheet-card-ammo-type sheet-card-line sheet-ranged-only">
                <div class="sheet-label">
                    Ammo Type:
                </div>
                <select class="sheet-shy" name="attr_ammotype">
                
                    <option value="ammo_d4"  selected="selected" >d4</option>
                
                    <option value="ammo_d6" >d6</option>
                
                    <option value="ammo_d8" >d8</option>
                
                    <option value="ammo_d10" >d10</option>
                
                    <option value="ammo_d12" >d12</option>
                
                    <option value="ammo_d20" >d20</option>
                
                    <option value="ammo_Bolt" >Bolt</option>
                
                    <option value="ammo_Arrow" >Arrow</option>
                
            </select>
            </div>

        </div>

        <div class="sheet-card-textarea">
            <textarea class="sheet-shy" name="attr_description"></textarea>
            <input type="text" class="sheet-hidden" name="attr_flavor"/>
            <span readonly name="attr_flavor"></span>
        </div>
        <div class="sheet-card-actions">
            <button type="roll" class="sheet-attack-button sheet-attack-melee btn" value="!!attack rolls='?{Number of Rolls}' dice='@{itemdamage}'">Attack</button>
            <button type="roll" class="sheet-reload-button btn" name="act_reloadweapon" value="!!reload weapon=">Reload</button>
            <button type="action" class="sheet-equip-button btn" name="act_equipitem">Equip</button>
            <button type="action" class="sheet-unequip-button btn" name="act_unequipitem">Unequip</button>
            <button type="roll" class="sheet-export-button" name="act_exportitem" value="**Export Item:** \n !!pickup name='@{itemname}' type='@{itemtype}' damage='@{itemdamage}' weapontype='@{weapontype}' uses='@{uses}' uses_max='@{uses_max}' ammotype='@{ammotype}' description='@{description}' flavor='@{flavor}'" >Export</button>
            <button type="action" class="sheet-delete-button btn-danger" name="act_deleteitem">Delete</button>
        </div>
    </div>

                </div>
            </fieldset>
        </div>
    </div>


</div>


<script type="text/worker">
    /** inject:workers **/
    (function () {
    'use strict';

    const fields$1 = {
        notes: {
            id: "notes"
        },
        ammo: {
            id: "ammo",
            types: [
                "d4",
                "d6",
                "d8",
                "d10",
                "d12",
                "d20",
                "Bolt",
                "Arrow"
            ]
        },
        stats: {
            health: {
                id: "health",
                default: 30,
            },
            energy: {
                id: "energy",
                default: 40,
            },
        },
        dodge: {
            id: "dodge",
            default: 2,
        },
        armor: {
            id: "armor",
            default: 0
        },
        ability: {
            id: "ability"
        },
        slots: {
            weaponslots: {
                id: "weaponslots",
                default: 1,
                max: 4,
                prefix: "weapon",
                label: "Weapons"
            },
            equipmentslots: {
                id: "equipmentslots",
                default: 2,
                max: 5,
                prefix: "equipment",
                label: "Equipment"
            }
        },
        inventory: {
            id: "inventoryslots",
            default: 5,
            max: 9,
            prefix: "inventory",
            label: "Inventory"
        }
    };

    const ammotypes = fields$1.ammo.types.map(x=> fields$1.ammo.id + '_' + x);

    var fields = {
        name: {
            id: 'itemname'
        },
        type: {
            id: 'itemtype',
            label: "Item Type",
            options: [
                'inventory',
                'weapon',
                'equipment'
            ]
        },
        damage: {
            id: 'itemdamage'
        },
        weapontype: {
            id: 'weapontype',
            options: [
                'melee',
                'ranged'
            ],
            label: 'Weapon Type',
            default: 'melee'
        },
        uses: {
            id: 'uses',
            max: true,
            labels: {
                melee: 'Durability',
                ranged: 'Ammo'
            }
        },
        ammotype: {
            id: 'ammotype',
            options: ammotypes,
            label: 'Ammo Type',
            default: ammotypes[0]
        },
        description: {
            id: 'description'
        }, 
        flavor: {
            id: 'flavor'
        },
        actions: {
            export:'exportitem', 
            delete:'deleteitem',
            attack:'attackweapon',
            reload: 'reloadweapon',
            equip: 'equipitem',
            unequip: 'unequipitem',
        }
    };

    const getButtonRowId = function(eventInfo){
        var underscoreIndex = eventInfo.sourceAttribute.lastIndexOf("_");
        return eventInfo.sourceAttribute.substr(0, underscoreIndex);
    };

    function equip(){
        const itemFields = {...fields};
        delete itemFields.actions; //remove action key

        //This gets all available equipment/weapon slots.
        const slotFields = (function(){
            let result = [
                fields$1.slots.equipmentslots.id,
                fields$1.slots.weaponslots.id
            ];

            for (let i = 1; i <= fields$1.slots.equipmentslots.max; i++){
                result.push(fields$1.slots.equipmentslots.prefix + '_' + i);
            }

            for (let i = 1; i <= fields$1.slots.weaponslots.max; i++){
                result.push(fields$1.slots.weaponslots.prefix + '_' + i);
            }

            return result;
        })();

        //Finds the next available slot for a given type. Pass it values so it can parse through the values - values should contain the retrieved values for all available slots.
        const findAvailableSlot = function(type, values){
            let max = (type == fields$1.slots.weaponslots.prefix) ? values[fields$1.slots.weaponslots.id] : values[fields$1.slots.equipmentslots.id];

            for (let i = 1; i <= max; i++){
                if (values[type + '_' + i] == 0){
                    return i;
                }
            }

            return null;
        };

        //get appropriate ID for an attribute in a slot.
        const getSlotId = function(type, attrId, slot){
            return `${type}_${attrId}_${slot}`
        };

        // Create an array of appropriate field Ids.
        // Give it a prefix to just append a simple prefix to the Id as in the case of repeating inventory
        // Give it a type and slot to call getSlotId as in the case of slots.
        const createFieldIdArray = function(prefix, type, slot){
            let result = [];

            for (let key in itemFields){
                let fld = itemFields[key];
                let name;
                if (prefix.length){
                    name = prefix + '_' + fld.id;
                } else if (type && slot){
                    name = getSlotId(type, fld.id, slot);
                } else {
                    name = fld.id;
                }
                result.push(name);

                if ('max' in fld && fld.max == true){
                    result.push(name + '_max');
                }
            }
            return result;
        };


        const unequipItem = function(type, slot){
            let unequipFields = createFieldIdArray('', type, slot);
            
            getAttrs(unequipFields, function(values){
                const rowId = generateRowID();
                var attrSet = {};

                for (const key in itemFields){
                    const fld = itemFields[key]; //the original field
                    
                    //unequiping is basically swapping objects
                    const unequipkey = getSlotId(type, fld.id, slot);
                    const invkey = `repeating_inventory_${rowId}_${fld.id}`;

                    attrSet[invkey] = values[unequipkey];

                    if ('max' in fld && fld.max == true){
                        attrSet[invkey + '_max'] = values[unequipkey + '_max'];
                    }


                    //clear out equipped fields
                    if ('default' in fld){
                        attrSet[unequipkey] = fld.default;
                    } else {
                        attrSet[unequipkey] = '';

                        if ('max' in fld && fld.max == true){
                            attrSet[unequipkey + '_max'] = '';
                        }
                    }
                }

                attrSet[type + '_' + slot] = 0; //make the slot available again.
                setAttrs(attrSet);
            });
        };


        const equipItem = function(rowId){
            // Get both slots and inventory fields
            const invFields = createFieldIdArray('repeating_inventory');

            const bothFields = invFields.concat(slotFields);

            getAttrs(bothFields, function(values){
                //retrieve given card type.
                let type = values[`repeating_inventory_${fields.type.id}`];
                if (type == fields$1.inventory.prefix){ return;} //only equip weapons and equipment
                
                let slot = findAvailableSlot(type, values); //now find an available slot for its type.

                //Slot is available!
                if (slot){
                    var attrSet = {};

                    //Loop to transpose repeating inventory field to the appropriate slot
                    //basically swapping objects
                    for (const key in itemFields) {
                        const fld = itemFields[key];
                        const invkey = `repeating_inventory_${fld.id}`;
                        const equipkey = getSlotId(type, fld.id, slot);

                        if (invkey in values && typeof values[invkey] != 'undefined'){
                            attrSet[equipkey] = values[invkey];
                            
                            // don't forget max
                            if ('max' in fld && fld.max == true){
                                attrSet[equipkey + '_max'] = values[invkey + '_max'];
                            }
                        } else {
                            attrSet[equipkey] = ''; //default value
                        }
                    }

                    attrSet[type + '_' + slot] = 'on';
                    removeRepeatingRow(rowId); //remove current row
                    setAttrs(attrSet);
                }
            });
        };


        // Hooks for buttons
        on(`clicked:repeating_inventory:${fields.actions.equip}`, function(evInfo){
            const rowId = getButtonRowId(evInfo);
            equipItem(rowId);
        });

        on(`clicked:repeating_inventory:${fields.actions.delete}`, function(evInfo){
            const rowId = getButtonRowId(evInfo);
            removeRepeatingRow(rowId);
        });


        for (let i = 1; i <= fields$1.slots.weaponslots.max; i++){
            on(`clicked:${fields$1.slots.weaponslots.prefix}_${fields.actions.unequip}_${i}`, function(){
                unequipItem(fields$1.slots.weaponslots.prefix, i);
            });
        }

        for (let i = 1; i <= fields$1.slots.equipmentslots.max; i++){
            on(`clicked:${fields$1.slots.equipmentslots.prefix}_${fields.actions.unequip}_${i}`, function(){
                unequipItem(fields$1.slots.equipmentslots.prefix, i);
            });
        }
    }

    function limit(){
        on('change:repeating_inventory', function(evInfo){
            console.log(evInfo);

            //So we don't interfere with unequip script
            if (evInfo.sourceType == 'sheetworker'){
                return;
            }


            getAttrs([fields$1.inventory.id], function(values){
                let slots = parseInt(values[fields$1.inventory.id], 10);

                if (isNaN(slots)){
                    console.error('Error when parsing slots');
                    return;
                }

                getSectionIDs("inventory", function(arr){

                    if (arr.length > slots){
                        let lastRow = arr[arr.length - 1]; //only remove the latest one, so we don't interfere with unequip
                        removeRepeatingRow("repeating_inventory_" + lastRow);
                    }
                });
            });
        });
    }

    equip();
    limit();

})();

    /** endinject **/
</script>